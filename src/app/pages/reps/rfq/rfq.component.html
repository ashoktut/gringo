<!-- <app-reusable-form [fields]="[{
  name: 'dateSubmittedField',
  label: 'Date Submitted',
  type: 'date',
  required: true,
  placeholder: 'Date Submitted'
}]" (formSubmit)="onFormSubmit($event)"></app-reusable-form> -->

<div class="page-container">
  <div class="form-header">
    <h1>
      @if (isEditMode) {
        Edit Request For Quote (RFQ)
      } @else if (isDuplicateMode) {
        Duplicate Request For Quote (RFQ)
      } @else if (isRepeatMode) {
        Repeat Request For Quote (RFQ)
      } @else {
        Request For Quote (RFQ)
      }
    </h1>
    @if (!isEditMode && !isDuplicateMode && !isRepeatMode) {
      <p>
        Complete the form section by section. Click on a section header to expand it - only one section can be open at a time.
      </p>
    }
    @if (isEditMode) {
      <div class="edit-notice">
        <mat-icon>edit</mat-icon>
        <p>
          Editing submission #{{ originalSubmissionId?.split('-')?.[1] || originalSubmissionId }}.
          Changes will update the existing submission.
        </p>
      </div>
    }
    @if (isDuplicateMode) {
      <div class="duplicate-notice">
        <mat-icon>content_copy</mat-icon>
        <p>
          Creating duplicate RFQ based on submission #{{ originalSubmissionId?.split('-')?.[1] || originalSubmissionId }}.
          This will create a new submission with the same data.
        </p>
      </div>
    }
    @if (isRepeatMode) {
      <div class="repeat-notice">
        <mat-icon>refresh</mat-icon>
        <p>
          Creating new RFQ based on submission #{{ originalSubmissionId?.split('-')?.[1] || originalSubmissionId }}.
          Review and update as needed.
        </p>
      </div>
    }
  </div>

  <app-reusable-form
    [sections]="rfqSections"
    [multi]="false"
    [formTitle]="isEditMode ? 'Edit RFQ Form' : isDuplicateMode ? 'Duplicate RFQ Form' : isRepeatMode ? 'Repeat RFQ Form' : 'RFQ Form'"
    [submitButtonText]="isEditMode ? 'Update RFQ' : isDuplicateMode ? 'Submit Duplicate RFQ' : isRepeatMode ? 'Submit Repeated RFQ' : 'Submit RFQ'"
    [initialData]="initialFormData"
    (formSubmit)="onFormSubmit($event)"
    (formValueChange)="onFormValueChange($event)"
    >
  </app-reusable-form>

  <!-- <div class="form-info">
    <h3>Form Features:</h3>
    <ul>
      <li>✅ Text Input with minimum length validation</li>
      <li>✅ Email Input with email format validation</li>
      <li>✅ Password Input with minimum length (8 chars)</li>
      <li>✅ Number Input with min/max age validation</li>
      <li>✅ Telephone Input with pattern validation</li>
      <li>✅ Date Picker with Material Design</li>
      <li>✅ Single Select Dropdown</li>
      <li>✅ Multiple Select Dropdown</li>
      <li>✅ Textarea with character limit</li>
      <li>✅ Radio Button Group</li>
      <li>✅ Checkbox Inputs (optional & required)</li>
      <li>✅ Real-time validation and error messages</li>
      <li>✅ Responsive design</li>
      <li>✅ Proper Separation of Concerns - Code organized in separate files</li>
      <li>✅ Angular Material Design - Uses Mat Card, Buttons, Icons, Tooltips</li>
      <li>✅ Responsive - Automatically adapts to mobile devices</li>
      <li>✅ Touch & Mouse Support - Works on all devices</li>
      <li>✅ Undo Functionality - Users can undo last signature stroke</li>
      <li>✅ Form Integration - Seamlessly works with reactive forms</li>
      <li>✅ Validation - Required field validation with custom error messages</li>
      <li>✅ Customizable - Canvas size, colors, stroke width</li>
      <li>✅ Clear & Undo - Users can clear signature or undo strokes</li>
      <li>✅ Visual Feedback - Shows completion status with Material icons</li>
      <li>✅ Base64 Output - Signature saved as base64 image</li>
      <li>✅ Conditional Display - Can show/hide based on other form fields</li>
      <li>✅ Accessibility - Keyboard navigation, ARIA labels, screen reader support</li>
      <li>✅ Mobile Optimized - Adjusts canvas size and layout for mobile devices</li>
    </ul>
  </div> -->
</div>
